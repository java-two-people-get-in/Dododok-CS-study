# [Database] 키 & 제약조건

## 1. 키?

키란, DB에서 조건을 만족하는 레코드를 찾거나 순서대로 정렬할 때 레코드를 구분할 수 있는 기준이 되는 속성이다.

1. 슈퍼키(super key)
2. 후보키(candidate key)
3. 기본키(primary key)
4. 대체키(alternate key)
5. 외래키(foreign key)
6. 복합키(composite key)

### 그 전에! 유일성과 최소성

- 유일성
    
    하나의 키 값으로 튜플을 유일하게 식별할 수 있는 성질(unique)
    
- 최소성
    
    키를 구성하는 속성들 중 꼭 필요한 최소한의 속성들로만 키를 구성하는 성질
    
    ex) 사람을 구분할 때 [`주민번호`, `이름`]으로 구성되어있다면 최소성을 만족하지 않음
    

1. 슈퍼키 
    - 유일성O, 최소성X
    
    유일성의 특성을 만족하는 속성들의 집합. 서로 구분이 가능함
    
    ex), [주민번호], [주민번호,이름], [주민번호,이름,나이]
    
2. 후보키
    - 유일성O, 최소성O
    
    슈퍼키 + 최소성을 만족함
    
    ex) [주민번호]
    
3. 기본키
    - 유일성O, 최소성O
    
    후보키중에서 선택됨, 레코드를 식별할 때 기준이 되는 키.
    
    변동이 작은 키를 선택하고, `NULL` 이 가능하면 안된다.
    
4. 외래키

테이블간의 관계를 나타낼 때 사용되며, 다른 테이블의 **기본키**를 참조한다.

외래키를 설정하는 이유는 **데이터 무결성(Integrity)** 때문이다.

> 데이터 무결성 : 항상 정확한 값을 유지하는 성질
> 

1. 복합키
    
    두 개 이상의 컬럼을 묶어 하나의 기본키로 지정
    
2. 대체키
    
    기본키를 제외한 후보키
    

## 2. 데이터의 무결성

데이터의 무결성은, **데이터의 정확성, 일관성, 유효성을 유지하는 것이다.**

### 2.1. 개체 무결성

모든 테이블이 기본키로 선택된 필드를 가져야 하며 기본 키로 선택된 필드는 고유한 값을 가져야 한다.

그리고 NULL이 허용되지 않는다.

### 2.2. 참조 무결성

참조 관계에 있는 두 테이블의 데이터가 **항상 일관된 값**을 가져야 한다.

### 2.3. 도메인 무결성

테이블에 존재하는 필드의 무결성을 보장하기 위해 필드의 타입, NULL허용 등을 정의하고 올바른 데이터를 확인하는 과정

### 2.4. 무결성 규칙

위의 무결성을 지키기위한 모든 제약 사항. 

##
