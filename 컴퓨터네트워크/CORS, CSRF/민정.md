# [컴퓨터 네트워크] CORS, CSRF

## 1. SOP(Same Origin Policy)
다른 출처의 리소스를 사용하는 것에 제한하는 보안 방식

### 출처(Origin)란?
![URL 구성요소](https://github.com/user-attachments/assets/8ef1fdca-cf51-433f-8c75-3b8f29e870b0)

URL의 Protocol,Host,Port를 통해 같은 출처인지 다른 출처인지 판단할 수 있다. 세가지가 모두 같아야 같은 출처이고, 하나라도 다르면 다른 출처이다.

~~ QUIZ ~~

http://localhost와 동일 출처인 url은 무엇일까요? 모두 선택해주세요.
1. https://localhost
2. http://localhost:80
3. http://127.0.0.1
4. http://localhost/api/cors

### SOP를 사용하는 이유는?
![Why SOP](https://github.com/user-attachments/assets/dc7211aa-9d11-4f08-81b4-5e96ecc7f6b6)

출처 : https://www.youtube.com/watch?v=-2TgkKYmJt4

SOP없이 모든 곳에서 데이터를 요청할 수 있게 된다면, 로그인했던 세션 또는 토큰을 탈취해 악의적으로 정보를 꺼내오거나 다른 사용자의 정보를 입력하는 등 해킹을 할 수 있게된다. 하지만 이런 공격을 할 수 없도록 브라우저에서 보호하고, 필요한 경우에만 서버와 협의하여 요청할 수 있도록 하기위해서 필요한 것이다. 

그렇다면 다른 출처의 리소스가 필요하다면 어떻게 해야할까? 이때 사용하는 것이 CORS이다.

## CORS(Cross-Origin Resource Sharing, 교차 출처 리소스 공유)란?
추가 HTTP 헤더를 사용해, 한 출처에서 실행중인 웹 애플리케이션이 다른 출처의 선택한 자원에 접근할 수 있는 권한을 부여하도록 브라우저에게 알려주는 프로토콜이다. 

웹 애플리케이션은 리소스가 자신의 출처와 다를 때 교차 출처 HTTP 요청을 실행한다. 
다른 출처의 요청일 경우, 브라우저에서는 보안을 위해 Cross-Origin HTTP 요청을 제한하기 때문에 CORS 정책에 준수해 요청해야만 정삭적으로 응답을 받는다.
