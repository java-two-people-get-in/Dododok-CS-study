# [컴퓨터네트워크] HTTP vs HTTPS

##1. HTTP(Hyper Text Transfer Protocol)란?
서버/클라이언트가 데이터를 주고 받기 위한 프로토콜이다.

## 1-1. HTTP 동작과정
1. 사용자가 웹 브라우저에 URL 주소를 입력한다.
2. DNS를 이용해 URL 주소를 IP 주소로 변경한다.
3. 웹서버와 TCP 연결을 시도한다.
   <br>
   -TCP : 인터넷상에서 데이터를 메시지의 형태로 보내기 위해 IP와 함께 사용하는 트랜스포트 계층의 프로토콜
   <br>
   -TCP가 연결이 잘 되었는지 확인하는 방법이 있는데 이 방법이 "3 way handshaking"이다.
![3WayHandshake](https://github.com/user-attachments/assets/e1f9c36b-502c-4c58-8e48-d5ad1c021bca)
4. 클라이언트가 서버에게 요청한다. -> HTTP Request Message 이용
5. 서버가 클라이언트에게 데이터를 응답한다. -> HTTP Response Message 이용 
6. 서버 클라이언트 간 연결을 종료한다. -> stateless 특징
7. 웹 브라우저가 웹 문서를 출력한다.

## 2-3. HTTP 구조

### HTTP Request Message = start line + Request Header + 공백 라인(CRLF) + Request Body
![HTTP REQUEST](https://github.com/user-attachments/assets/67fc4d1d-5c83-41ef-a276-a055a2716aea)
<br>
[start line]
- HTTP method : 요청 메소드(GET,POST,PUT,DELETE 등)
  <br>
- Request target : Http Request가 전송되는 목표 주소
  <br>
- HTTP version : version에 따라 Request 메시지 구조나 데이터가 다를 수 있어 version을 명시함.
  
[Request Header]
<br>
- Host : 요청하려는 서버 호스트 이름과 포트번호
- User-agent : 클라이언트 프로그램 정보. 이 정보를 통해 서버는 클라이언트 프로그램(브라우저)에 맞는 최적의 데이터를 보내줄 수 있다.
- Referer : 바로 직전에 머물렀던 웹 링크 주소
- Accept : 클라이언트가 처리 가능한 미디어 타입 종류 나열
- If-Modified-Since : 여기에 쓰여진 시간 이후로 변경된 리소스 취득. 페이지가 수정되었으면 최신 페이지로 교체한다.
- Authorization : 인증 토큰을 서버로 보낼 때 쓰이는 Header
- Origin : 서버로 Post 요청을 보낼 때 요청이 어느 주소에 시작되었는지 나타내는 값. 이 값으로 요청을 보낸 주소와 받는 주소가 다르면 CORS(Cross-Origin Resource Sharing) 에러가 발생한다.
- Cookie : 쿠키 값이 key-value로 표현된다.

[빈줄]
- 요청에 대한 모든 메타 정보가 전송되었음을 알리는 용도

[body]
- HTTP Request가 전송하는 데이터를 담고 있는 부분
- GET,HEAD,DELETE,OPTIONS처럼 리소스를 가져오는 요청은 바디 미포함

### HTTP Response Message = status line + Request Header + 공백 라인(CRLF) + Request Body

![HTTP response](https://github.com/user-attachments/assets/37825aca-255d-462c-9029-34f86b940be1)
<br>
[status line]
- HTTP version / Status Code / Status Text

[Request Header]
- Response Header와 동일

[Request Body] 
- Response Body와 동일

## 1-3. HTTP 특징
1. 클라이언트 서버 구조 : 클라이언트에서 요청을 보내면 서버가 요청에 대한 응답을 보내는 클라이언트 - 서버 구조로 아루어져 있다.
2. stateless(무상태성) : 서버가 클라이언트의 상태를 보존하지 않는다.
   <br>
      - 장점 : 서버 확장성이 높다.
      - 단점 : 상태 유지를 위해서 쿠키,세션,토큰같은 다른 기술을 이용해야 한다.
4.  연결 : 연결이 이루어지고 난 뒤 각각의 자원들을 요청하고, 모든 자원에 대한 응답이 돌아온 후에 연결을 종료한다. 

TCP : 연결 확인
IP : 데이터 전송
IP 주소 vs MAC 주소
IP 주소 : 계층형 주소
ARP : 주소를 찾아가는 프로토콜. 수신자의 Ip 주소를 찾아서 도착한 곳의 MAC 주소를 조사해서 수신자 주소의 루트를 찾아냄
이때 중간에 경유하는 기기들이 있음(배송지 허브의 역할)

### HTTP 상태 코드
200 - OK / 201 - OK + save

400 - 클라이언트 잘못 / 401 - 로그인 필요 / 403 - 인증은 되었지만 해당 요청에 대한 권한이 없음 / 404 - 그런 페이지 없음(요청 거부하고 싶은데 이유 공개하고 싶지 않을 때도 사용)                                                                   
500 - 서버 오류 / 501 - 서버에 요청을 수행할 수 있는 기능이 없음(요청 메소드를 인식하지 못할 때 사용) / 503 - 서버 다운됨
